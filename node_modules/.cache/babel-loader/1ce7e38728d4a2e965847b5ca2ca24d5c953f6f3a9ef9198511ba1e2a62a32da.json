{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/gayan/Documents/Personal/dish/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";import _slicedToArray from\"/home/gayan/Documents/Personal/dish/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5;import styled from'styled-components';import{useState}from'react';import{Card,CardActionArea,CardMedia,Grid,Typography}from'@mui/material';import{useRecipeSummary}from'../hooks/useRecipeSummary';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var RecipeCard=function RecipeCard(_ref){var id=_ref.id,title=_ref.title,image=_ref.image;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useRecipeSummary=useRecipeSummary(id),_useRecipeSummary$dat=_useRecipeSummary.data,_useRecipeSummary$dat2=_useRecipeSummary$dat===void 0?{}:_useRecipeSummary$dat,summary=_useRecipeSummary$dat2.summary,isFetching=_useRecipeSummary.isFetching;var summaryMarkup={__html:summary};return/*#__PURE__*/_jsx(RootCard,{children:/*#__PURE__*/_jsxs(CardActionArea,{children:[/*#__PURE__*/_jsx(MediaCardMedia,{image:image,title:title}),/*#__PURE__*/_jsxs(ContentDiv,{children:[/*#__PURE__*/_jsx(Grid,{container:true,alignItems:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,xs:true,children:/*#__PURE__*/_jsx(TitleTypography,{variant:\"h5\",children:title})})}),/*#__PURE__*/_jsx(DividerDiv,{}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:isFetching?'Loading...':/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:expanded?summaryMarkup:{__html:\"\".concat(summary.substring(0,200),\"...\")}}),summary.length>200&&/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setExpanded(!expanded);},children:expanded?'Read less':'Read more'})]})})]})]})});};var RootCard=styled(Card)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  max-width: 350px;\\n  margin: auto;\\n  border-radius: 16px;\\n  overflow: hidden;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n\"])));var MediaCardMedia=styled(CardMedia)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 200px;\\n  object-fit: cover;\\n\"])));var ContentDiv=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 16px;\\n  background-color: #f4f4f4;\\n  border-top: 1px solid #e2e2e2;\\n\"])));var TitleTypography=styled(Typography)(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n  color: #222;\\n\"])));var DividerDiv=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 2px;\\n  background-color: #e2e2e2;\\n  margin: 1rem 0;\\n\"])));","map":{"version":3,"names":["styled","useState","Card","CardActionArea","CardMedia","Grid","Typography","useRecipeSummary","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","RecipeCard","_ref","id","title","image","_useState","_useState2","_slicedToArray","expanded","setExpanded","_useRecipeSummary","_useRecipeSummary$dat","data","_useRecipeSummary$dat2","summary","isFetching","summaryMarkup","__html","RootCard","children","MediaCardMedia","ContentDiv","container","alignItems","item","xs","TitleTypography","variant","DividerDiv","color","component","dangerouslySetInnerHTML","concat","substring","length","onClick","_templateObject","_taggedTemplateLiteral","_templateObject2","div","_templateObject3","_templateObject4","_templateObject5"],"sources":["/home/gayan/Documents/Personal/dish/src/components/RecipeCard.tsx"],"sourcesContent":["import styled from 'styled-components';\nimport { useState } from 'react';\nimport { Card, CardActionArea, CardMedia, Grid, Typography } from '@mui/material';\nimport { RecipeCardProps } from '../modules/Explore/components/types';\nimport { useRecipeSummary } from '../hooks/useRecipeSummary';\n\nexport const RecipeCard = ({ id, title, image }: RecipeCardProps) => {\n  const [expanded, setExpanded] = useState(false);\n\n  const { data: { summary } = {}, isFetching } = useRecipeSummary(id);\n\n  const summaryMarkup = { __html: summary };\n\n  return (\n    <RootCard>\n      <CardActionArea>\n        <MediaCardMedia image={image} title={title} />\n        <ContentDiv>\n          <Grid container alignItems='center'>\n            <Grid item xs>\n              <TitleTypography variant='h5'>{title}</TitleTypography>\n            </Grid>\n          </Grid>\n          <DividerDiv />\n          <Typography variant='body2' color='textSecondary' component='p'>\n            {isFetching ? (\n              'Loading...'\n            ) : (\n              <>\n                <div\n                  dangerouslySetInnerHTML={\n                    expanded ? summaryMarkup : { __html: `${summary.substring(0, 200)}...` }\n                  }\n                />\n                {summary.length > 200 && (\n                  <span onClick={() => setExpanded(!expanded)}>\n                    {expanded ? 'Read less' : 'Read more'}\n                  </span>\n                )}\n              </>\n            )}\n          </Typography>\n        </ContentDiv>\n      </CardActionArea>\n    </RootCard>\n  );\n};\n\nconst RootCard = styled(Card)`\n  max-width: 350px;\n  margin: auto;\n  border-radius: 16px;\n  overflow: hidden;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst MediaCardMedia = styled(CardMedia)`\n  height: 200px;\n  object-fit: cover;\n`;\n\nconst ContentDiv = styled.div`\n  padding: 16px;\n  background-color: #f4f4f4;\n  border-top: 1px solid #e2e2e2;\n`;\n\nconst TitleTypography = styled(Typography)`\n  font-size: 1.2rem;\n  font-weight: bold;\n  color: #222;\n`;\n\nconst DividerDiv = styled.div`\n  width: 100%;\n  height: 2px;\n  background-color: #e2e2e2;\n  margin: 1rem 0;\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}